var lastScrollTop,downScroll,homePage,compact,timeout;const navSwitch=document.querySelector("#nav-toggle"),navMenu=document.querySelector("#site-nav .menu");function openNav(a){a.target.checked?navMenu.classList.add("active"):navMenu.classList.remove("active")}navSwitch.addEventListener("change",openNav,!1);const aside=document.querySelectorAll(".aside-fade_authors"),headerClasses=document.getElementById("site-header").classList;lastScrollTop=0,downScroll=!1,homePage=!0,compact=!1,timeout=null,headerClasses.contains("l-compact")&&(homePage=!1);function fadeInOut(a){a.add("fade"),timeout&&(clearTimeout(timeout),timeout=null),timeout=setTimeout(function(){a.remove("fade")},500)}function scrollShow(){let a=window.pageYOffset||document.documentElement.scrollTop;if(a>lastScrollTop&&!downScroll){if(lastScrollTop>=125)if(downScroll=!0,homePage&&!compact&&(headerClasses.add("l-compact"),fadeInOut(headerClasses),compact=!0),aside)for(let a=0;a<aside.length;a++)aside[a].classList.add("active")}else if(a<lastScrollTop&&downScroll)if(lastScrollTop<125)if(downScroll=!1,homePage&&(headerClasses.remove("l-compact"),fadeInOut(headerClasses),compact=!1),aside)for(let a=0;a<aside.length;a++)aside[a].classList.remove("active");lastScrollTop=a<=0?0:a}document.addEventListener("scroll",scrollShow,!1);const main=document.getElementById("site-main"),progress=document.getElementById("reading-progress");function getScrollProgress(c){let a=c.getBoundingClientRect(),d=a.height,e=window.innerHeight,f=d-e,b=0;return a.top<0&&(b=Math.abs(a.top)/f*100),b}function showReadingProgress(){progress.setAttribute("value",getScrollProgress(main))}progress&&document.addEventListener("scroll",showReadingProgress,!1);const themeSwitch=document.querySelector("#theme-toggle");function switchTheme(a){a.target.checked?(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-theme","dark"),themeSwitch.checked=!0):(localStorage.setItem("theme","light"),document.documentElement.setAttribute("data-theme","light"),themeSwitch.checked=!1)}themeSwitch.addEventListener("change",switchTheme,!1),document.documentElement.getAttribute("data-theme")=="dark"&&(themeSwitch.checked=!0)